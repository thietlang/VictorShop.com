<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/styles.css">
    <title>Login</title>
</head>
<body>
  
    <div class="nav_top">
        <div class="container container_nav_top">
            <div class="content_nav_top">
                <p class="text_nav_top">Summer Sale For All Swim Suits And Free Express Delivery - OFF 50%!</p>
                <a href="#" class="link_nav_top">ShopNow</a>
            </div>
        </div>
    </div>
    <nav class="nav">
        <div class="container container_nav">
            <a href="index.html" class="logo_nav">VICTOR</a>
            <ul class="nav_list">
                <li class="nav_item"><a href="index.html" class="nav_link">Home</a></li>
                <li class="nav_item"><a href="contact.html" class="nav_link">Contact</a></li>
                <li class="nav_item"><a href="about.html" class="nav_link">About</a></li>
                <li class="nav_item"><a href="sign-up.html" class="nav_link">Sign up</a></li>
            </ul>
            <div class="nav_items">
                <form action="#" class="nav_form">
                    <input type="text" class="nav_form_input" placeholder="What are you looking for?">
                    <img src="image/search.png" alt="" class="nav_form_search">
                </form>
            </div>
            <span class="hamberger">
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
              </svg>
            </span>
        </div>
    </nav>
    <nav class="mobie_nav mobie_nav_hide">
      <ul class="mobie_nav_list">
        <li class="mobie_nav_item">
          <a href="index.html" class="mobie_nav_link">Home</a></li>
        <li class="mobie_nav_item">
          <a href="contact.html" class="mobie_nav_link">Contact</a></li>
        <li class="mobie_nav_item">
          <a href="about.html" class="mobie_nav_link">About</a></li>
        <li class="mobie_nav_item">
          <a href="sign-up.html" class="mobie_nav_link">Sign up</a></li>
        <li class="mobie_nav_item">
          <a href="cart.html" class="mobie_nav_link">Cart</a></li>
      </ul>
    </nav>   
<section class="section_login">
    <div class="container_login">
        <div class="img_frame">
            <img src="image/auth-image.png" alt="" class="img_login">
        </div>
        <div class="content_login">
            <div id="toast"></div>
            <h2 class="title_login">Log in to VICTOR</h2>
            <p class="instruct_login">Enter your details below</p>

            <form action="" method="POST" class="form_login" id="form-2">
                <div class="form-group">
                  <input id="fullname" name="fullname" type="text" placeholder="Username" class="form-control">
                  <span class="form-message"></span>
                </div>
                <div class="form-group">
                  <input id="password" name="password" type="password" placeholder="Password" class="form-control">
                  <span class="form-message"></span>
                </div>
                <div class="bottom_content_login">
                    <button id="login-btn" class="login_btn" type="submit" >Log in</button>
                    
                    <a href="#" class="forget_pw">Forget Password</a>
                </div>
                <div class="already_login">
                  <p href="#" class="_already_login" >Not a member?</p>
                  <a href="sign-up.html" class="a_signup_now">Sign up now</a>
              </div>
            </form>
            <button id="logout-btn" class="logout_btn" style="display: none;">Log out</button>
        </div>
    </div>
</section>    

<footer class="footer">
  <div class="container container_footer">
    <div class="footer_item">
      <h3 class="titel_footer"><a href="#" >VICTOR</a></h3>
      <ul class="ul_list_content_footer">
        <li class="content_footer"><a href="#">Subcribe</a></li>
        <li class="content_footer"><a href="#">Get 10% off your first oder</a></li>
      </ul>
    </div>
    <div class="footer_item">
      <p class="titel_footer">Support</p>
      <ul class="ul_list_item">
        <li class="content_footer"><a href="#">VICTOR@gmail.com</a></li>
        <li class="content_footer"><a href="#">175 Tay Son , Dong Da Ha Noi</a></li>
        <li class="content_footer"><p>Phone : 0966896888</p></li>
      </ul>
    </div>
    <div class="footer_item">
      <p class="titel_footer">Account</p>
      <ul class="ul_list_item">
        <li class="content_footer"><a href="#">My Account</a></li>
        <li class="content_footer"><a href="#">Login/Register</a></li>
        <li class="content_footer"><a href="#">Cart</a></li>
        <li class="content_footer"><a href="#">Wishlist</a></li>
        <li class="content_footer"><a href="#">Shop</a></li>
      </ul>
    </div>
    <div class="footer_item">
      <p class="titel_footer">Quick Link</p>
      <ul class="ul_list_item">
        <li class="content_footer"><a href="#">Privacy Policy</a></li>
        <li class="content_footer"><a href="#">Terms of user</a></li>
        <li class="content_footer"><a href="#">Contact</a></li>
      </ul>
    </div>
  </div>
</footer>
</body>
<script src="https://unpkg.com/scrollreveal"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
      Validator({
        form: '#form-2',
        formGroupSelector: '.form-group',
        errorSelector: '.form-message',
        rules: [
          Validator.isRequired('#fullname'),
          Validator.minLength('#password', 5),
        ],
        onSubmit: function (data) {
          // Call API
          console.log(data);
        }
      });
    });

    document.addEventListener("DOMContentLoaded", function () {
    // Lấy thông tin từ LocalStorage
    const username = localStorage.getItem("username");
    const password = localStorage.getItem("password");

    // Điền thông tin vào form đăng nhập
    if (username && password) {
        document.getElementById("fullname").value = username;

        // Xóa thông tin khỏi LocalStorage để đảm bảo bảo mật
        localStorage.removeItem("username");
        localStorage.removeItem("password");
    }
});

    const loginBtn = document.getElementById("login-btn");
    const logoutBtn = document.getElementById("logout-btn");
    const logInForm = document.getElementById("form-2");
    const toastContainer = document.getElementById("toast");

        logInForm.addEventListener("submit", function (e) {
            e.preventDefault();

            const username = document.getElementById("fullname").value;
            const password = document.getElementById("password").value;

            if (username === "admin" && password === "admin") {
                // Lưu thông tin vào LocalStorage
                localStorage.setItem("loggedInUser", JSON.stringify({ username , password}));
                
                //hiển thị thông báo nếu thành công
                toast({
                    title: "Success!",
                    message: `Chào mừng ${username} !`,
                    type: "success",
                    duration: 3000
                });

                loginBtn.style.display = "none";
                logoutBtn.style.display = "block";

                // Chuyển hướng đến trang chính (nếu cần)
                // window.location.href = "index.html";
            } else {
                toast({
                    title: "Error!",
                    message: "Invalid username or password.",
                    type: "error",
                    duration: 3000
                });
            }
        });
        
    // khi click vào log out
    logoutBtn.addEventListener("click", function () {
    // Xóa toàn bộ thông báo cũ
    while (toastContainer.firstChild) {
        toastContainer.removeChild(toastContainer.firstChild);
    }

    // Hiển thị thông báo logout thành công
    toast({
        title: "Success!",
        message: "You have successfully logged out.",
        type: "info",
        duration: 3000
    });

    // Xóa thông tin khỏi LocalStorage
    localStorage.removeItem("loggedInUser");
    //reset form
    document.getElementById("fullname").value = "";
    document.getElementById("password").value = "";
    // Hiển thị lại nút login và ẩn nút logout
    loginBtn.style.display = "block";
    logoutBtn.style.display = "none";
    });


    ScrollReveal().reveal('.nav_top', {
  origin:"bottom",
  distance:"20px",
  opacity:0,
});
ScrollReveal().reveal('.nav', {
  origin:"bottom",
  distance:"20px",
  opacity:0,
  delay:100,
});
    ScrollReveal().reveal('.section_login', {
        origin:"bottom",
        distance:"20px",
        opacity:0,
        delay:200,
        duration:200,
      });
      // mobie_nav
const Hamberger = document.querySelector(".hamberger");
const Mobie_Nav = document.querySelector(".mobie_nav");

Hamberger.addEventListener("click", ()=> {
  Mobie_Nav.classList.toggle('mobie_nav_hide');
});

</script>
<script src="login.js"></script>
</html>